{
  "project": "sombra-desktop",
  "version": "0.3.1",
  "description": "QA test scenarios for Sombra Desktop application",
  "test_url": "http://90.156.230.49:8080",
  "stt_url": "http://100.87.46.63:5000",
  "scenarios": [
    {
      "name": "health_check",
      "type": "http",
      "description": "Check Sombra API server availability",
      "endpoint": "/health",
      "method": "GET",
      "expected_status": 200
    },
    {
      "name": "system_version",
      "type": "http",
      "description": "Get API version and build info",
      "endpoint": "/api/system/version",
      "method": "GET",
      "expected_status": 200,
      "response_contains": ["version"]
    },
    {
      "name": "chat_basic_query",
      "type": "http",
      "description": "Send basic chat message",
      "endpoint": "/api/chat",
      "method": "POST",
      "headers": {
        "Content-Type": "application/json"
      },
      "body": {
        "query": "ping",
        "session_id": "qa_test"
      },
      "expected_status": 200,
      "response_contains": ["response"]
    },
    {
      "name": "chat_empty_query",
      "type": "http",
      "description": "Error handling: empty query should return error",
      "endpoint": "/api/chat",
      "method": "POST",
      "headers": {
        "Content-Type": "application/json"
      },
      "body": {
        "query": "",
        "session_id": "qa_test"
      },
      "expected_status": 422
    },
    {
      "name": "logs_buffer",
      "type": "http",
      "description": "Get logs buffer from all clients",
      "endpoint": "/api/logs/buffer",
      "method": "GET",
      "expected_status": 200
    },
    {
      "name": "logs_clients",
      "type": "http",
      "description": "Get list of connected clients",
      "endpoint": "/api/logs/clients",
      "method": "GET",
      "expected_status": 200
    },
    {
      "name": "invalid_endpoint",
      "type": "http",
      "description": "Error handling: non-existent endpoint",
      "endpoint": "/api/nonexistent/endpoint",
      "method": "GET",
      "expected_status": 404
    },
    {
      "name": "stt_health_check",
      "type": "http",
      "description": "Check local Whisper STT service availability",
      "base_url": "http://100.87.46.63:5000",
      "endpoint": "/",
      "method": "GET",
      "expected_status": 200,
      "optional": true
    },
    {
      "name": "python_syntax_check",
      "type": "command",
      "description": "Verify Python source files have valid syntax",
      "command": "cd /home/danny/Documents/projects/sombra-desktop && python -m py_compile src/sombra/__main__.py src/sombra/app.py src/sombra/config/settings.py",
      "expected_exit_code": 0
    },
    {
      "name": "import_check",
      "type": "command",
      "description": "Verify main module can be imported without errors",
      "command": "cd /home/danny/Documents/projects/sombra-desktop && source .venv/bin/activate && python -c 'from sombra.config.settings import Settings; from sombra.services.sombra_service import SombraService; print(\"Import OK\")'",
      "expected_exit_code": 0
    },
    {
      "name": "ruff_lint",
      "type": "command",
      "description": "Run ruff linter on source code",
      "command": "cd /home/danny/Documents/projects/sombra-desktop && source .venv/bin/activate && ruff check src/sombra/ --select=E,F --ignore=E501",
      "expected_exit_code": 0
    }
  ]
}
